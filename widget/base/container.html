<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Container | 杰锅自用flutter手册</title>
    <meta name="description" content="flutter自用说明书">
    
    
    <link rel="preload" href="/flutter_book/assets/css/0.styles.997099ac.css" as="style"><link rel="preload" href="/flutter_book/assets/js/app.253a4ec9.js" as="script"><link rel="preload" href="/flutter_book/assets/js/7.6626d9eb.js" as="script"><link rel="prefetch" href="/flutter_book/assets/js/10.8cc6b440.js"><link rel="prefetch" href="/flutter_book/assets/js/11.229fabe3.js"><link rel="prefetch" href="/flutter_book/assets/js/12.ce070f28.js"><link rel="prefetch" href="/flutter_book/assets/js/13.1dce9b7a.js"><link rel="prefetch" href="/flutter_book/assets/js/14.f4787824.js"><link rel="prefetch" href="/flutter_book/assets/js/15.193efebe.js"><link rel="prefetch" href="/flutter_book/assets/js/16.8c925e7c.js"><link rel="prefetch" href="/flutter_book/assets/js/17.18501fd5.js"><link rel="prefetch" href="/flutter_book/assets/js/18.8f58c2bf.js"><link rel="prefetch" href="/flutter_book/assets/js/19.5f0fe789.js"><link rel="prefetch" href="/flutter_book/assets/js/2.34bf4688.js"><link rel="prefetch" href="/flutter_book/assets/js/20.f2846971.js"><link rel="prefetch" href="/flutter_book/assets/js/21.a67ebe19.js"><link rel="prefetch" href="/flutter_book/assets/js/22.7a9ba723.js"><link rel="prefetch" href="/flutter_book/assets/js/23.c719711d.js"><link rel="prefetch" href="/flutter_book/assets/js/24.3e755d59.js"><link rel="prefetch" href="/flutter_book/assets/js/25.b60e2d6d.js"><link rel="prefetch" href="/flutter_book/assets/js/26.3eec73e0.js"><link rel="prefetch" href="/flutter_book/assets/js/27.db4a99d3.js"><link rel="prefetch" href="/flutter_book/assets/js/28.1d5a5347.js"><link rel="prefetch" href="/flutter_book/assets/js/29.13b7dcf9.js"><link rel="prefetch" href="/flutter_book/assets/js/3.eadacbf4.js"><link rel="prefetch" href="/flutter_book/assets/js/30.085254cd.js"><link rel="prefetch" href="/flutter_book/assets/js/31.159756ee.js"><link rel="prefetch" href="/flutter_book/assets/js/32.9173d325.js"><link rel="prefetch" href="/flutter_book/assets/js/33.2e7d3417.js"><link rel="prefetch" href="/flutter_book/assets/js/34.a4578187.js"><link rel="prefetch" href="/flutter_book/assets/js/35.77eb5be4.js"><link rel="prefetch" href="/flutter_book/assets/js/36.aef767d1.js"><link rel="prefetch" href="/flutter_book/assets/js/37.cb0376c5.js"><link rel="prefetch" href="/flutter_book/assets/js/38.de6fceb5.js"><link rel="prefetch" href="/flutter_book/assets/js/39.0f0d36e1.js"><link rel="prefetch" href="/flutter_book/assets/js/4.044ed9aa.js"><link rel="prefetch" href="/flutter_book/assets/js/40.22dc8907.js"><link rel="prefetch" href="/flutter_book/assets/js/41.b8d16e65.js"><link rel="prefetch" href="/flutter_book/assets/js/42.e27f7051.js"><link rel="prefetch" href="/flutter_book/assets/js/43.bfef950d.js"><link rel="prefetch" href="/flutter_book/assets/js/44.07ba53fd.js"><link rel="prefetch" href="/flutter_book/assets/js/5.ab7fe795.js"><link rel="prefetch" href="/flutter_book/assets/js/6.c6ae5ead.js"><link rel="prefetch" href="/flutter_book/assets/js/8.1c532dba.js"><link rel="prefetch" href="/flutter_book/assets/js/9.411db642.js">
    <link rel="stylesheet" href="/flutter_book/assets/css/0.styles.997099ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/flutter_book/" class="home-link router-link-active"><!----> <span class="site-name">杰锅自用flutter手册</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/flutter_book/" class="sidebar-link">前言</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>基础Widget</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/flutter_book/widget/base/container.html" class="active sidebar-link">Container</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_1-1-组成" class="sidebar-link">1.1 组成</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_1-2-布局行为" class="sidebar-link">1.2 布局行为</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_1-3-继承关系" class="sidebar-link">1.3 继承关系</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#属性解析" class="sidebar-link">属性解析</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_2-1-属性解析" class="sidebar-link">2.1 属性解析</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_2-2-源码" class="sidebar-link">2.2 源码</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_3-1-注意事项" class="sidebar-link">3.1 注意事项</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_3-2-图解代码" class="sidebar-link">3.2 图解代码</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#_3-3-代码" class="sidebar-link">3.3 代码</a></li><li class="sidebar-sub-header"><a href="/flutter_book/widget/base/container.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/flutter_book/widget/base/row.html" class="sidebar-link">Row</a></li><li><a href="/flutter_book/widget/base/column.html" class="sidebar-link">标题</a></li><li><a href="/flutter_book/widget/base/image.html" class="sidebar-link">适用人群</a></li><li><a href="/flutter_book/widget/base/text.html" class="sidebar-link">Text</a></li><li><a href="/flutter_book/widget/base/icon.html" class="sidebar-link">适用人群</a></li><li><a href="/flutter_book/widget/base/raisebutton.html" class="sidebar-link">适用人群</a></li><li><a href="/flutter_book/widget/base/scaffold.html" class="sidebar-link">Scaffold</a></li><li><a href="/flutter_book/widget/base/appbar.html" class="sidebar-link">Appbar</a></li><li><a href="/flutter_book/widget/base/flutterlogo.html" class="sidebar-link">标题</a></li><li><a href="/flutter_book/widget/base/placeholder.html" class="sidebar-link">标题</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>导航 Navigation</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>按纽 Button</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Input &amp; selection</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>对话框 Dialog</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>工作中的一些记录</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="container"><a href="#container" aria-hidden="true" class="header-anchor">#</a> Container</h1> <div class="tip custom-block"><p class="custom-block-title">简介</p> <p>本文主要介绍Flutter中非常常见的Container，列举了一些实际例子介绍如何使用。</p></div> <p>Container在Flutter中太常见了。官方给出的简介，是一个结合了绘制（painting）、定位（positioning）以及尺寸（sizing）widget的widget。</p> <p>可以得出几个信息，它是一个组合的widget，内部有绘制widget、定位widget、尺寸widget。后续看到的不少widget，都是通过一些更基础的widget组合而成的。</p> <h2 id="_1-1-组成"><a href="#_1-1-组成" aria-hidden="true" class="header-anchor">#</a> 1.1 组成</h2> <p>Container的组成如下：</p> <ul><li>最里层的是child元素；</li> <li>child元素首先会被padding包着；</li> <li>然后添加额外的constraints限制；</li> <li>最后添加margin。</li></ul> <p>Container的绘制的过程如下：</p> <ul><li>首先会绘制transform效果；</li> <li>接着绘制decoration；</li> <li>然后绘制child；</li> <li>最后绘制foregroundDecoration。</li></ul> <p>Container自身尺寸的调节分两种情况：</p> <ul><li>Container在没有子节点（children）的时候，会试图去变得足够大。除非<a href="/flutter_book/widget/base/boxconstraints.html">constraints</a>是unbounded限制，在这种情况下，Container会试图去变得足够小。</li> <li>带子节点的Container，会根据子节点尺寸调节自身尺寸，但是Container构造器中如果包含了width、height以及constraints，则会按照构造器中的参数来进行尺寸的调节。</li></ul> <h2 id="_1-2-布局行为"><a href="#_1-2-布局行为" aria-hidden="true" class="header-anchor">#</a> 1.2 布局行为</h2> <p>由于Container组合了一系列的widget，这些widget都有自己的布局行为，因此Container的布局行为有时候是比较复杂的。</p> <p>一般情况下，Container会遵循如下顺序去尝试布局：</p> <ul><li>对齐（alignment）；</li> <li>调节自身尺寸适合子节点；</li> <li>采用width、height以及constraints布局；</li> <li>扩展自身去适应父节点；</li> <li>调节自身到足够小。</li></ul> <p>进一步说：</p> <ul><li>如果没有子节点、没有设置width、height以及constraints，并且父节点没有设置unbounded的限制，Container会将自身调整到足够小。</li> <li>如果没有子节点、对齐方式（alignment），但是提供了width、height或者constraints，那么Container会根据自身以及父节点的限制，将自身调节到足够小。</li> <li>如果没有子节点、width、height、constraints以及alignment，但是父节点提供了bounded限制，那么Container会按照父节点的限制，将自身调整到足够大。</li> <li>如果有alignment，父节点提供了unbounded限制，那么Container将会调节自身尺寸来包住child；</li> <li>如果有alignment，并且父节点提供了bounded限制，那么Container会将自身调整的足够大（在父节点的范围内），然后将child根据alignment调整位置；</li> <li>含有child，但是没有width、height、constraints以及alignment，Container会将父节点的constraints传递给child，并且根据child调整自身。</li></ul> <p>另外，margin以及padding属性也会影响到布局。</p> <h2 id="_1-3-继承关系"><a href="#_1-3-继承关系" aria-hidden="true" class="header-anchor">#</a> 1.3 继承关系</h2> <div class="language- extra-class"><pre class="language-text"><code>Object &gt; Diagnosticable &gt; DiagnosticableTree &gt; Widget &gt; StatelessWidget &gt; Container
</code></pre></div><p>从继承关系可以看出，Container是一个StatelessWidget。Container并不是一个最基础的widget，它是由一系列的基础widget组合而成。</p> <h2 id="属性解析"><a href="#属性解析" aria-hidden="true" class="header-anchor">#</a> 属性解析</h2> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  Key key<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>alignment<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">,</span>
  Color color<span class="token punctuation">,</span>
  Decoration decoration<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>foregroundDecoration<span class="token punctuation">,</span>
  double width<span class="token punctuation">,</span>
  double height<span class="token punctuation">,</span>
  BoxConstraints constraints<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>margin<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>transform<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>平时使用最多的，也就是padding、color、width、height、margin属性。</p> <h2 id="_2-1-属性解析"><a href="#_2-1-属性解析" aria-hidden="true" class="header-anchor">#</a> 2.1 属性解析</h2> <p><code>key</code>：Container唯一标识符，用于查找更新。</p> <p><code>alignment</code>：控制child的对齐方式，如果container或者container父节点尺寸大于child的尺寸，这个属性设置会起作用，有很多种对齐方式。</p> <p><code>padding</code>：decoration内部的空白区域，如果有child的话，child位于padding内部。padding与margin的不同之处在于，padding是包含在content内，而margin则是外部边界，设置点击事件的话，padding区域会响应，而margin区域不会响应。</p> <p><code>color</code>：用来设置container背景色，如果foregroundDecoration设置的话，可能会遮盖color效果。</p> <p><code>decoration</code>：绘制在child后面的装饰，设置了decoration的话，就不能设置color属性，否则会报错，此时应该在decoration中进行颜色的设置。</p> <p><code>foregroundDecoration</code>：绘制在child前面的装饰。</p> <p><code>width</code>：container的宽度，设置为double.infinity可以强制在宽度上撑满，不设置，则根据child和父节点两者一起布局。</p> <p><code>height</code>：container的高度，设置为double.infinity可以强制在高度上撑满。</p> <p><code>constraints</code>：添加到child上额外的约束条件。</p> <p><code>margin</code>：围绕在decoration和child之外的空白区域，不属于内容区域。</p> <p><code>transform</code>：设置container的变换矩阵，类型为Matrix4。</p> <p><code>child</code>：container中的内容widget。</p> <h2 id="_2-2-源码"><a href="#_2-2-源码" aria-hidden="true" class="header-anchor">#</a> 2.2 源码</h2> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token keyword">assert</span><span class="token punctuation">(</span>color <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> decoration <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
 <span class="token string">'Cannot provide both a color and a decoration\n'</span>
 <span class="token string">'The color argument is just a shorthand for &quot;decoration: new BoxDecoration(color: color)&quot;.'</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
decoration <span class="token operator">=</span> decoration <span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation">(</span>color <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> color<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><p>这里可以看出，对于颜色的控制，最后都是转换为decoration为设置的，如果同时包含decoration和color两种属性，则会报错。</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token metadata symbol">@override</span>
Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Widget current <span class="token operator">=</span> child<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>child <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>constraints <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token operator">!</span>constraints<span class="token punctuation">.</span>isTight<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    current <span class="token operator">=</span> <span class="token function">LimitedBox</span><span class="token punctuation">(</span>
      maxWidth<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
      maxHeight<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> <span class="token function">ConstrainedBox</span><span class="token punctuation">(</span>constraints<span class="token punctuation">:</span> <span class="token keyword">const</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>alignment <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">Align</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> alignment<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> EdgeInsetsGeometry effectivePadding <span class="token operator">=</span> _paddingIncludingDecoration<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>effectivePadding <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> effectivePadding<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>decoration <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">DecoratedBox</span><span class="token punctuation">(</span>decoration<span class="token punctuation">:</span> decoration<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>foregroundDecoration <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    current <span class="token operator">=</span> <span class="token function">DecoratedBox</span><span class="token punctuation">(</span>
      decoration<span class="token punctuation">:</span> foregroundDecoration<span class="token punctuation">,</span>
      position<span class="token punctuation">:</span> DecorationPosition<span class="token punctuation">.</span>foreground<span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> current
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>constraints <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">ConstrainedBox</span><span class="token punctuation">(</span>constraints<span class="token punctuation">:</span> constraints<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>margin <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> margin<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>transform <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    current <span class="token operator">=</span> <span class="token function">Transform</span><span class="token punctuation">(</span>transform<span class="token punctuation">:</span> transform<span class="token punctuation">,</span> child<span class="token punctuation">:</span> current<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> current<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Container的build函数不长，绘制也是一个线性的判断的过程，一层一层的包裹着widget，去实现不同的样式。</p> <p>最里层的是child，如果为空或者其他约束条件，则最里层包含的为一个LimitedBox，然后依次是Align、Padding、DecoratedBox、前景DecoratedBox、ConstrainedBox、Padding（实现margin效果）、Transform。</p> <p>Container的源码本身并不复杂，复杂的是它的各种布局表现。我们谨记住一点，如果内部不设置约束，则按照父节点尽可能的扩大，如果内部有约束，则按照内部来。</p> <h2 id="_3-1-注意事项"><a href="#_3-1-注意事项" aria-hidden="true" class="header-anchor">#</a> 3.1 注意事项</h2> <p>这个小控件，写起来很简单，本身没有什么难度，只是纯粹的介绍了Container的使用方法，但是有一个地方需要注意的。在控件的deactivate状态，我们需要将控件的属性初始到最开始的状态，例如在本例中，有如下代码：</p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token metadata symbol">@override</span>
<span class="token keyword">void</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  currentColor <span class="token operator">=</span> widget<span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这么做是为什么了？是因为在点击按钮进行页面跳转的时候，按钮处在点击态，当我们返回的时候，页面还是处在点击态，这显然就不正确了，因此需要我们手动的在deactivate状态下，将控件恢复到初始状态。但是呢，这个设置颜色，并不是说在deactivate的时候，就立马去刷新控件，而是在下次再进入这个页面的时候，再次运行build的时候，会按照这个初始值进行绘制，也就是恢复到了最开始的状态。</p> <h2 id="_3-2-图解代码"><a href="#_3-2-图解代码" aria-hidden="true" class="header-anchor">#</a> 3.2 图解代码</h2> <h3 id="_3-2-1-container-child"><a href="#_3-2-1-container-child" aria-hidden="true" class="header-anchor">#</a> 3.2.1 Container child</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;Color color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/container_child.png" alt="foo"> <h3 id="_3-2-2-container-padding"><a href="#_3-2-2-container-padding" aria-hidden="true" class="header-anchor">#</a> 3.2.2 Container padding</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span>
  padding<span class="token punctuation">:</span>
    EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span> top<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span>
    color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
    child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;this.padding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/container_padding.png" alt="container_padding"> <img src="/flutter_book/assets/container/container_padding_explain.png" alt="container_padding_explain"> <h3 id="_3-2-3-container-margin"><a href="#_3-2-3-container-margin" aria-hidden="true" class="header-anchor">#</a> 3.2.3 Container margin</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span>
    margin<span class="token punctuation">:</span>
      EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span> top<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span>
    child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;this.margin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/container_margin.png" alt="container_margin"> <p>关于EdgeInsets的详细说明可以查看<a href="https://vtesoho.github.io/flutter_book/edgeinsets" target="_blank" rel="noopener noreferrer">EdgeInsets<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>篇</p> <h3 id="_3-3-4-container-alignment"><a href="#_3-3-4-container-alignment" aria-hidden="true" class="header-anchor">#</a> 3.3.4 Container alignment</h3> <p><code>alignment</code>有两方式，都是继承于<code>AlignmentGeometry</code>，先介绍Alignment，也有单独篇幅详细介绍<a href="https://vtesoho.github.io/flutter_book/alignment" target="_blank" rel="noopener noreferrer">Alignment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <table><thead><tr><th>1</th> <th>2</th> <th>3</th></tr></thead> <tbody><tr><td>topLeft</td> <td>topCenter</td> <td>topRight</td></tr> <tr><td>centerLeft</td> <td>center</td> <td>centerRight</td></tr> <tr><td>bottomLeft</td> <td>bottomCenter</td> <td>bottomRight</td></tr></tbody></table> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>lightBlue<span class="token punctuation">,</span>
  alignment<span class="token punctuation">:</span> Alignment<span class="token punctuation">.</span>bottomRight<span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;this.alignment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/container_alignment.png" alt="container_alignment"> <p>这里介绍的是<code>alignmentdirectional</code></p> <table><thead><tr><th>1</th> <th>2</th> <th>3</th></tr></thead> <tbody><tr><td>topStart</td> <td>topCenter</td> <td>topEnd</td></tr> <tr><td>centerStart</td> <td>center</td> <td>centerEnd</td></tr> <tr><td>bottomStart</td> <td>bottomCenter</td> <td>bottomEnd</td></tr></tbody></table> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span>
  height<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>
  alignment<span class="token punctuation">:</span> AlignmentDirectional<span class="token punctuation">.</span>bottomEnd<span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>
    <span class="token string">&quot;HellH&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/container_alignmentdirectional.png" alt="container_alignmentdirectional"> <h3 id="_3-2-5-container-constraints"><a href="#_3-2-5-container-constraints" aria-hidden="true" class="header-anchor">#</a> 3.2.5 Container constraints</h3> <p>这里仅仅演示一下效果，具体可以参考单独篇幅<a href="https://vtesoho.github.io/flutter_book/constraints" target="_blank" rel="noopener noreferrer">constraints<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>lightBlue<span class="token punctuation">,</span>
  constraints<span class="token punctuation">:</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;BoxConstraints constraints&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><img src="/flutter_book/assets/container/container_constraints.png" alt="container_constraints"> <h3 id="_3-2-6-decoration-foregrounddecoration"><a href="#_3-2-6-decoration-foregrounddecoration" aria-hidden="true" class="header-anchor">#</a> 3.2.6 decoration &amp; foregroundDecoration</h3> <p><code>decoration</code>是container的装饰器，而<code>foregroundDecoration</code>是覆盖container的装饰器,在装饰器里面你可以搞很多事情出来。下面的图片能很好的说明这里面的层级关系。</p> <img src="/flutter_book/assets/container/decoration_foregroundDecoration.png" alt="decoration_foregroundDecoration"> <p>装饰器也有多种属性，<code>ShapeDecoration</code>和<code>BoxDecoration</code></p> <h4 id="shapedecoration"><a href="#shapedecoration" aria-hidden="true" class="header-anchor">#</a> ShapeDecoration</h4> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  constraints<span class="token punctuation">:</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  decoration<span class="token punctuation">:</span> <span class="token function">ShapeDecoration</span><span class="token punctuation">(</span>
      shape<span class="token punctuation">:</span> <span class="token function">RoundedRectangleBorder</span><span class="token punctuation">(</span>
        borderRadius<span class="token punctuation">:</span> BorderRadius<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>
          Radius<span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;decoration: ShapeDecoration&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/shapedecoration.png" alt="shapedecoration"> <h4 id="boxdecoration"><a href="#boxdecoration" aria-hidden="true" class="header-anchor">#</a> BoxDecoration</h4> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  constraints<span class="token punctuation">:</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">200.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  alignment<span class="token punctuation">:</span> Alignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span>
  padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>
      gradient<span class="token punctuation">:</span> <span class="token function">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span>Colors<span class="token punctuation">.</span>lightBlue<span class="token punctuation">,</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      shape<span class="token punctuation">:</span> BoxShape<span class="token punctuation">.</span>circle<span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;decoration: BoxDecoration&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><img src="/flutter_book/assets/container/boxdecoration.png" alt="boxdecoration"> <h3 id="_3-2-7-container-transform"><a href="#_3-2-7-container-transform" aria-hidden="true" class="header-anchor">#</a> 3.2.7 Container transform</h3> <div class="language-dart extra-class"><pre class="language-dart"><code><span class="token function">Container</span><span class="token punctuation">(</span>
  padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  constraints<span class="token punctuation">:</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>lightBlue<span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;this.transform&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">Container</span><span class="token punctuation">(</span>
  padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> left<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  constraints<span class="token punctuation">:</span> BoxConstraints<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>lightBlue<span class="token punctuation">,</span>
  transform<span class="token punctuation">:</span> Matrix4<span class="token punctuation">.</span><span class="token function">rotationY</span><span class="token punctuation">(</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">rotateX</span><span class="token punctuation">(</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;this.transform&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre></div><img src="/flutter_book/assets/container/transform.png" alt="transform"> <h2 id="_3-3-代码"><a href="#_3-3-代码" aria-hidden="true" class="header-anchor">#</a> 3.3 代码</h2> <p><a href="https://www.jianshu.com/p/366b2446eaab" target="_blank" rel="noopener noreferrer">github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="参考"><a href="#参考" aria-hidden="true" class="header-anchor">#</a> 参考</h2> <p><a href="https://www.jianshu.com/p/366b2446eaab" target="_blank" rel="noopener noreferrer">Container<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/flutter_book/" class="prev router-link-active">
          前言
        </a></span> <span class="next"><a href="/flutter_book/widget/base/row.html">
          Row
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/flutter_book/assets/js/app.253a4ec9.js" defer></script><script src="/flutter_book/assets/js/7.6626d9eb.js" defer></script>
  </body>
</html>
